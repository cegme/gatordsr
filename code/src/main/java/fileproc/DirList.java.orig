package fileproc;
<<<<<<< HEAD
=======

>>>>>>> develop
import java.io.IOException;
import java.nio.file.FileVisitResult;
import java.nio.file.Files;
import java.nio.file.Path;
import java.nio.file.Paths;
import java.nio.file.SimpleFileVisitor;
import java.nio.file.attribute.BasicFileAttributes;
import java.util.LinkedList;
import java.util.List;

public class DirList {

<<<<<<< HEAD
	public static List getFileList(String dir) {
=======
	public static List getFileList(String dir, final String filter) {
>>>>>>> develop
		final LinkedList<String> list = new LinkedList<String>();
		try {
			Path startPath = Paths.get(dir);
			Files.walkFileTree(startPath, new SimpleFileVisitor<Path>() {
				@Override
				public FileVisitResult preVisitDirectory(Path dir,
						BasicFileAttributes attrs) {
<<<<<<< HEAD
					//System.out.println("Dir: " + dir.toString());
=======
					// System.out.println("Dir: " + dir.toString());
>>>>>>> develop
					return FileVisitResult.CONTINUE;
				}

				@Override
				public FileVisitResult visitFile(Path file,
						BasicFileAttributes attrs) {
<<<<<<< HEAD
					list.add(file.toString());
					//System.out.println("File: " + file.toString());
=======
					String fileName = file.toString();
					if (fileName.contains(filter))
						list.add(fileName);
					// System.out.println("File: " + file.toString());
>>>>>>> develop
					return FileVisitResult.CONTINUE;
				}

				@Override
				public FileVisitResult visitFileFailed(Path file, IOException e) {
					return FileVisitResult.CONTINUE;
				}
			});
		} catch (IOException e) {
			e.printStackTrace();
		}
		return list;
<<<<<<< HEAD
	}

=======

	}

//	public static List getFileList(String dir) {
//		return getFileList(dir, "");
//	}

>>>>>>> develop
	/**
	 * @param args
	 */
	public static void main(String[] args) {
<<<<<<< HEAD
		//DirList dir = new DirList();
		List l = DirList.getFileList("/home/morteza/Downloads");
		for (Object o: l)
=======
		// DirList dir = new DirList();
		List l = DirList.getFileList("/home/morteza/Downloads", "");
		for (Object o : l)
>>>>>>> develop
			System.out.println(o);

	}

}
